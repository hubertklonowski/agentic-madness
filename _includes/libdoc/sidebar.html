{% assign page_paths = site.pages %}
<div    class="c-position m-fixed m-top-left u-bc-primary-edge u-w-100 u-h-100 u-translucid u-z-100 m-anchor-top-right" 
        u-none="xl"
        id="libdoc-sidebar-overlay"
        onclick="sidebar();"></div>
<nav    class="c-position m-top-left u-z-100 u-h-100vh u-bc-primary-max u-bb-thin-dashed-alt m-anchor-top-right--sm m-anchor-top-right--md" 
        m-fw-medium="md,xl"
        u-fixed="sm,md" 
        u-sticky="xl"
        id="libdoc-sidebar">
    <div class="c-position m-absolute m-top-0 m-right-0 u-h-100 u-bl-thin-dashed-alt" style="width:1px;"></div>
    <button class="c-btn c-position m-absolute m-top-right m-anchor-top-left u-z-12 u-p-sm" 
            u-none="xl" 
            onclick="sidebar()">
        <span class="i-menu u-fs-md"></span>
    </button>
    <ul id="libdoc-sidebar-menu" class="u-m-none u-p-none u-ls-none u-mh-100vh u-o-auto u-pb-xxl">
        <li>
            <a rel="author" href="{{ site.url }}{{ site.baseurl }}" class="c-btn m-translucid m-block u-ta-center u-p-md">
                <!-- Icon removed - just show site title as text -->
                <span style="font-size: {{ site.sidebar.logo.font_size | default: 'var(--sg-font-size-lg)' }}; line-height: 1em; font-weight: bold;">{{ site.title }}</span>
            </a>
        </li>
        {% if page_paths %}
            {% if site.sidebar.disable_search != true %}
                <li id="libdoc-sidebar-item-search">
                    <form class="c-form" action="{{ 'assets/libdoc/search.html' | relative_url }}" method="get" style="position: relative;">
                        <input  type="search" 
                                id="libdoc-search-box" 
                                name="query" 
                                placeholder="Search..."
                                class="u-bl-none u-bt-thin-dashed-alt {% if page.title == 'Search results' %}u-br-large-solid{% else %}u-br-none{% endif %} u-bb-none"
                                style="padding-right: 60px;"
                                u-fs-xs="sm,md"
                                u-p-xs="sm,md"
                                oninput="document.getElementById('search-submit-btn').style.display = this.value ? 'flex' : 'none';">
                        <label for="libdoc-search-box" class="u-none">Search</label>
                        <button type="submit" id="search-submit-btn" aria-label="Search" style="display: none; position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: none; border: none; padding: 4px; cursor: pointer; opacity: 0.6; transition: opacity 0.2s; align-items: center; justify-content: center;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                        </button>
                    </form>
                </li>
            {% endif %}
            {% include libdoc/menu-basic.html %}
        {% endif %}
        <li class="sidebar-contact" style="position: absolute; bottom: 0; left: 0; right: 0; padding: 1rem; border-top: 1px dashed var(--sg-color-primary-alt, #ccc); text-align: center;">
            <a href="mailto:contact@agenticmadness.com" class="u-fs-sm" style="color: var(--sg-color-primary, #333); transition: opacity 0.2s;">
                ✉️ contact@agenticmadness.com
            </a>
        </li>
    </ul>
</nav>
